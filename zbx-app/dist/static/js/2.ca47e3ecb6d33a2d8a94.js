webpackJsonp([2],{"+m0V":function(a,t){},x0vE:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("Xxa5"),s=e.n(n),r=e("exGp"),i=e.n(r),c=e("6Bqv"),l=e("8e4C"),o={components:{RecyleList:c.default},data:function(){return{data:[],active:this.$route.query.user?1:0,loading:!1,finished:!1,params:{page:1,size:10}}},watch:{},created:function(){this.handleTabbar(this.active)},methods:{getRecyleList:function(){var a=this;return i()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.loading){t.next=2;break}return t.abrupt("return");case 2:return a.loading=!0,e={status:"",page:a.params.page,size:a.params.size},t.next=6,a.$ajax("recylerListByAdmin",e).then(function(t){a.finished=!0,1===a.params.page?a.data=t.data:a.data=a.data.concat(t.data),a.params.page++}).finally(function(){a.loading=!1});case 6:case"end":return t.stop()}},t,a)}))()},getAllUser:function(){var a=this;return i()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.loading){t.next=2;break}return t.abrupt("return");case 2:return a.loading=!0,t.next=5,a.$ajax("getAllUser",a.params).then(function(t){a.finished=!0,1===a.params.page?a.data=t.data.list:a.data=a.data.concat(t.data.list),a.params.page++}).finally(function(){a.loading=!1});case 5:case"end":return t.stop()}},t,a)}))()},onRefresh:function(){this.params.page=1,0!==this.active?this.getAllUser():this.getRecyleList()},handleTabbar:function(a){this.active=a,this.params.page=1,0!==a?this.getAllUser():this.getRecyleList()},handleRecylerClick:function(a){this.$router.push("/admin/recyledetail/"+a.id)},handleUserClick:function(a){this.$router.push("/admin/userdetail/"+a.id+"/"+a.userType+"/"+a.userStatus)},formatType:function(a){return 1===a?"业主":2===a?"回收人员":"管理员"},formatStatus:function(a){var t=l.f.filter(function(t){return t.id===+a});return t.length?t[0].label:"--"}}},u={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"admin-wrap"}},[e("van-nav-bar",{attrs:{title:0===a.active?"回收列表":"用户列表"}}),a._v(" "),e("van-pull-refresh",{staticClass:"admin-content",on:{refresh:a.onRefresh},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},[0===a.active?e("van-list",{attrs:{finished:a.finished},on:{load:a.getRecyleList},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},[e("recyle-list",{attrs:{data:a.data},on:{click:a.handleRecylerClick}})],1):e("van-list",{attrs:{finished:a.finished},on:{load:a.getAllUser}},a._l(a.data,function(t,n){return e("div",{key:n,on:{click:function(e){a.handleUserClick(t)}}},[e("van-row",{staticClass:"user-item"},[e("van-col",{attrs:{span:"24"}},[e("van-row",{staticClass:"item-content"},[e("van-col",{attrs:{span:"4"}},[e("img",{staticClass:"resImage",attrs:{src:t.wxLogo}})]),a._v(" "),e("van-col",{attrs:{span:"12"}},[e("van-row",[e("span",[a._v("昵称："+a._s(t.wxNickName))])]),a._v(" "),e("van-row",[e("span",[a._v("类型："+a._s(a.formatType(t.userType)))])])],1),a._v(" "),e("van-col",{staticClass:"status",class:"status"+t.userStatus,attrs:{span:"8"}},[a._v(a._s(a.formatStatus(t.userStatus)))])],1)],1)],1)],1)}))],1),a._v(" "),e("van-tabbar",{on:{change:a.handleTabbar},model:{value:a.active,callback:function(t){a.active=t},expression:"active"}},[e("van-tabbar-item",{attrs:{icon:"wap-home"}},[a._v("回收列表")]),a._v(" "),e("van-tabbar-item",{attrs:{icon:"records"}},[a._v("用户列表")])],1)],1)},staticRenderFns:[]};var d=e("VU/8")(o,u,!1,function(a){e("+m0V")},"data-v-58b6805d",null);t.default=d.exports}});
//# sourceMappingURL=2.ca47e3ecb6d33a2d8a94.js.map