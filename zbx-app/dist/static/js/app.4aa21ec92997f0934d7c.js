webpackJsonp([16],{"2X7B":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)},staticRenderFns:[]},a=r("VU/8")({name:"essential-container"},n,!1,null,null,null);t.default=a.exports},"5tgt":function(e,t,r){"use strict";t.a=function(e){return function(){return r("MWF8")("./"+e)}}},"6f/g":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={components:{EssentialContainer:r("2X7B").default}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-wrapper"},[t("div",{staticClass:"main-container"},[t("section",{staticClass:"app-main"},[t("essential-container")],1)])])},staticRenderFns:[]},i=r("VU/8")(n,a,!1,null,null,null);t.default=i.exports},CJFh:function(e,t){},CMvz:function(e,t){},HkAu:function(e,t){},MWF8:function(e,t,r){var n={"./_detail":["SxHN",0,6],"./_detail.vue":["SxHN",0,6],"./admin":["x0vE",0,2],"./admin/":["x0vE",0,2],"./admin/index":["x0vE",0,2],"./admin/index.vue":["x0vE",0,2],"./admin/recyleDetail":["OJPN",0,14],"./admin/recyleDetail.vue":["OJPN",0,14],"./admin/userDetail":["D0w/",0,11],"./admin/userDetail.vue":["D0w/",0,11],"./components/Detail":["Irxe",0],"./components/Detail.vue":["Irxe",0],"./components/Empty":["l0xS",0],"./components/Empty.vue":["l0xS",0],"./components/RecyleList":["6Bqv",0],"./components/RecyleList.vue":["6Bqv",0],"./error":["qZa5",0,8],"./error.vue":["qZa5",0,8],"./home":["KR8f",3],"./home/":["KR8f",3],"./home/index":["KR8f",3],"./home/index.vue":["KR8f",3],"./layout":["6f/g"],"./layout/":["6f/g"],"./layout/EssentialContainer":["2X7B"],"./layout/EssentialContainer.vue":["2X7B"],"./layout/index":["6f/g"],"./layout/index.vue":["6f/g"],"./owner":["pq4Z",0,7],"./owner.vue":["pq4Z",0,7],"./ownerDetail":["excn",0,13],"./ownerDetail.vue":["excn",0,13],"./publish":["ybv5",0,10],"./publish.vue":["ybv5",0,10],"./recyler":["cQDO",0,5],"./recyler.vue":["cQDO",0,5],"./recylerDetail":["q8vY",0,12],"./recylerDetail.vue":["q8vY",0,12],"./register":["bqOp",1],"./register/":["bqOp",1],"./register/_info":["t1HA",0,4],"./register/_info.vue":["t1HA",0,4],"./register/index":["bqOp",1],"./register/index.vue":["bqOp",1],"./register/info":["p0rv",0,9],"./register/info.vue":["p0rv",0,9]};function a(e){var t=n[e];return t?Promise.all(t.slice(1).map(r.e)).then(function(){return r(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(n)},a.id="MWF8",e.exports=a},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i,o=r("VU/8")({name:"App"},a,!1,function(e){r("HkAu")},"data-v-426b0690",null).exports,u=r("Xxa5"),c=r.n(u),s=r("W3Iv"),l=r.n(s),p=r("BO1k"),f=r.n(p),d=r("d7EF"),m=r.n(d),h=r("fZjL"),v=r.n(h),y=r("exGp"),g=r.n(y),x=r("/ocq"),b=r("Y81h"),w=r.n(b),j=(r("UVIz"),r("5tgt")),O=r("//Fk"),k=r.n(O),R=r("Dd8w"),U=r.n(R),D=r("woOf"),q=r.n(D),C={get:{recyleList:"/rest/recycle/list",recyleDetail:"/rest/recycle/detail",getUserType:"/rest/user/getUserType",getYezhuUserInfo:"/rest/user/getYezhuUserInfo",recylerListByAdmin:"/rest/recycle/list4Admin",getAllUser:"/rest/user/getAllUser",getRecylerInfo:"/rest/user/getHuishouUserInfo",getOwnerInfo:"/rest/user/getYezhuUserInfo4Admin"},post:{upload:"/rest/upload/uploadImg",confirmRecycle:"/rest/recycle/confirmRecycle",delete:"/rest/recycle/delete",addUserDetail:"/rest/user/addUserDetail",completeRecycle:"/rest/recycle/completeRecycle",createRecyle:"/rest/recycle/create",updateRecyle:"/rest/recycle/update",verifyHuishou:"/rest/user/verifyHuishou",modifyUserStatus:"/rest/user/modifyUserStatus"},patch:{},delete:{}},I=r("a2oG");(i=I).keys().map(i).forEach(function(e){var t=e.default;return l()(t).forEach(function(e){var t=m()(e,2),r=t[0],n=t[1];return n&&q()(C[r],n)})});var _=C,E=r("gRE1"),T=r.n(E),M=r("mtWM"),A=r.n(M),F=r("Fd2+"),H=(r("TIfe"),r("pFYg")),$=r.n(H),S=r("mw3O"),P=r.n(S),z=function(e){var t,r,n=e.ts,a=e.dataInCache,i=e.params;return!(!a||!(!0===n||0===n||Date.now()-a.ts<n))&&((t=a.params)===(r=i)||"object"===(void 0===t?"undefined":$()(t))&&"object"===(void 0===r?"undefined":$()(r))&&v()(t).every(function(e){return t[e]===r[e]}))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=arguments[2];if("params"===r.dataType)return{};if("get"===t||"query"===r.dataType){var n={};return l()(e).forEach(function(e){var t=m()(e,2),r=t[0],a=t[1];"object"!==(void 0===a?"undefined":$()(a))&&(n[r]=a)}),{params:n}}return"form"===r.dataType?(r.axiosConfig={headers:{"Content-Type":"application/x-www-form-urlencoded"}},P.a.stringify(e)):"json"===r.dataType&&"delete"===t?{data:e}:e},L=!1,V="ams",Y="";L&&(Y={local:"/mock",dev:"/dev",ams:"/ams"}[V]||Y);var Z={},N=A.a.create({baseURL:Y,timeout:3e4}),W=null;N.interceptors.request.use(function(e){return e.headers["Content-Type"]="application/json",e},function(e){return k.a.reject(e)}),N.interceptors.response.use(function(e){var t=e.data;return Array.isArray(t)||t.success||F.a.alert({message:t.message||t.desc||"请求错误"}),t},function(e){return F.a.alert(e.message),k.a.reject(e)});var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new k.a(function(a,i){if(z({ts:n.cache,dataInCache:Z[t],params:r}))return a(Z[t]);"params"===n.dataType&&("dev"!==V&&L?"ams"===V&&(t=v()(r).reduce(function(e,t){return e+"/${"+t+"}"},t)):t=T()(r).reduce(function(e,t){return e+"/"+t},t)),N[e](t,B(r,e,n),n.axiosConfig).then(function(e){if(e.notLogin){if(F.a.alert(L?"登陆过期，请更新cookie":"登陆过期，正在跳转至登陆页面"),L)return;return W&&clearTimeout(W),void(W=setTimeout(function(){var e=location.host.indexOf("mng")>-1?location.host:"mng.duibadev.com.cn",t=location.href.replace(/#(\S+)$/,"?urltmp=$1");location.href="//"+e.replace("mng","sso")+"/login?redirect="+encodeURIComponent(t)+"&systemId=1"},1500))}if(n.hideErrorMsg)return a(e);var o=e.message||e.desc;e.success?(n.showSuccessMsg&&F.a.alert({message:o||"操作成功"}),n.cache&&(Z[t]={data:e.data,ts:Date.now(),params:r,isCache:!0}),a(e)):(F.a.alert({message:o||"请求错误"}),i())}).catch(i)})},G=r("zL8q"),J={get:function(e,t,r){return X("get",_.get[e],t,r)},patch:function(e,t,r){return X("patch",_.patch[e],t,r)},delete:function(e,t,r){return X("delete",e,{},r)},post:function(e,t,r){return X("post",_.post[e],t,r)},upload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length||e.length>1)return G.Message.error("暂时只支持上传一个文件");var r=e[0];return X("post",t.url||"http://172.16.80.91:3000/api/upload4Sword",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new FormData;return l()(e).forEach(function(e){var r=m()(e,2),n=r[0],a=r[1];return t.append(n,a)}),t}({file:r}),t)},ajax:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_.get[e];return X(r.method||(n?"get":"post"),n||_.post[e],t,r)}},K=U()({},J,{install:function(e){e.prototype.$axios=A.a,e.prototype.$ajax=J.ajax,e.prototype.$ajax.get=J.get,e.prototype.$ajax.post=J.post,e.prototype.$ajax.patch=J.patch,e.prototype.$ajax.delete=J.delete,e.prototype.$ajax.upload=J.upload}}),Q={},ee={get:function(e){return Q[e]},set:function(e,t){Q[e]=t},requireAuth:function(e){var t=this;return new k.a(function(r){t.requireUserInfo(e).then(function(e){var t=e.userType,n=null;t&&(n={recyler:2===t,owner:1===t,admin:3===t});var a=e.userStatus;r({authMap:n,status:a,type:t})})})},requireUserInfo:function(e){var t=this;return new k.a(function(r){if(e){var n=t.get("userInfo");n&&r(n)}K.get("getUserType").then(function(e){t.set("userInfo",e.data),r(t.get("userInfo"))})})},requireChannelAdmin:function(e){var t=this;return new k.a(function(r){t.requireUserInfo().then(function(t){t.applicationManage?r():e("/application/traceList")})})}},te=r("6f/g"),re=r("2X7B");function ne(e,t){return e.filter(function(e){return e.children&&(e.children=ne(e.children,t)),!e.meta.auth||!e.meta.auth.length||e.meta.auth.some(function(e){return t[e]})})}function ae(e,t){if(e){var r=e.component||te.default;return!e.component&&t&&(r=e.meta&&re.default),"string"==typeof r&&(r=Object(j.a)(r)),U()({meta:{}},e,{component:r,children:e.children&&e.children.map(function(e){return ae(e,!0)})})}}var ie=r("lHA8"),oe=r.n(ie),ue=r("Gu7T"),ce=r.n(ue),se=["admin","owner","recyler"].map(function(e){return"./"+e+".js"}),le=function(e){return[].concat(ce()(new oe.a([].concat(ce()(se),ce()(e.keys()))))).map(e)}(r("UZ/T")).map(function(e){return e.default}),pe=this;n.default.use(x.a),w.a.configure({showSpinner:!1});var fe,de=[{path:"/",meta:{title:"首页",icon:"home"},component:Object(j.a)("home/index")},{path:"/register",meta:{title:"注册"},component:Object(j.a)("register/info")},{path:"/error",meta:{title:"审核"},component:Object(j.a)("error")}],me=le.map(function(e){return ae(e)}),he={constantRouter:de.map(function(e){return ae(e)}),asyncRouter:[]},ve=new x.a({routes:he.constantRouter}),ye=!1;ve.beforeEach((fe=g()(c.a.mark(function e(t,r,n){var a,i,o,u,s,p,d,h=(a=g()(c.a.mark(function e(t){var r,a,i,o,u,s,p,d,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=!0,a=!1,i=void 0,e.prev=4,o=f()(l()(t));case 6:if(r=(u=o.next()).done){e.next=18;break}if(s=u.value,p=m()(s,2),d=p[0],h=p[1],e.t0=h&&ee[d],!e.t0){e.next=15;break}return e.next=15,ee[d](n,h);case 15:r=!0,e.next=6;break;case 18:e.next=24;break;case 20:e.prev=20,e.t1=e.catch(4),a=!0,i=e.t1;case 24:e.prev=24,e.prev=25,!r&&o.return&&o.return();case 27:if(e.prev=27,!a){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.prev=32,e.next=35,n();case 35:return w.a.done(),e.finish(32);case 37:case"end":return e.stop()}},e,this,[[0,,32,37],[4,20,24,32],[25,,27,31]])})),function(e){return a.apply(this,arguments)});return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.a.start(),["/logout"].includes(t.path)||ye){e.next=23;break}return ye=!0,i=!1,e.next=6,ee.requireAuth(i);case 6:if(o=e.sent,u=o.authMap,s=o.status,p=o.type,-1===t.path.indexOf("/register")){e.next=12;break}return e.abrupt("return",n("/register"));case 12:if(1===s){e.next=14;break}return e.abrupt("return",n("/error?status="+s+"&type="+p));case 14:if(!u){e.next=23;break}if(he.asyncRouter=ne(me,u),ve.addRoutes(he.asyncRouter),console.log(he.asyncRouter),"/"!==t.path){e.next=22;break}if(!(d=v()(u).filter(function(e){return u[e]})).length){e.next=22;break}return e.abrupt("return",n("/"+d[0]));case 22:return e.abrupt("return",n(t));case 23:if(0!==t.matched.length){e.next=26;break}return w.a.done(),e.abrupt("return",n("/error"));case 26:h(t.meta);case 27:case"end":return e.stop()}},e,pe)})),function(e,t,r){return fe.apply(this,arguments)}));var ge=ve;r("CJFh"),r("CMvz"),r("sVYa");n.default.config.productionTip=!1,n.default.use(F.c),n.default.use(K),new n.default({el:"#app",router:ge,components:{App:o},template:"<App/>"})},TIfe:function(e,t,r){"use strict";t.a=function(e){return a.a.get(e)};var n=r("lbHh"),a=r.n(n)},UVIz:function(e,t){},"UZ/T":function(e,t,r){var n={"./admin.js":"yiV+","./owner.js":"rzCe","./recyler.js":"i7qj","./register.js":"i5f1"};function a(e){return r(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="UZ/T"},a2oG:function(e,t){function r(e){throw new Error("Cannot find module '"+e+"'.")}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="a2oG"},i5f1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5tgt");t.default={path:"/register",meta:{title:"注册"},component:Object(n.a)("register/info")}},i7qj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5tgt");t.default={path:"/recyler",meta:{title:"回收",auth:["recyler"]},children:[{path:"/recyler",meta:{title:"回收",auth:["recyler"]},component:Object(n.a)("recyler")},{path:"detail",meta:{title:"回收",auth:["recyler"]},component:Object(n.a)("recylerDetail")}]}},rzCe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5tgt");t.default={path:"/owner",meta:{title:"业主页",auth:["owner"]},children:[{path:"/",meta:{title:"业主页",auth:["owner"]},component:Object(n.a)("owner")},{path:"publish",meta:{title:"发布回收",auth:["owner"]},component:Object(n.a)("publish")},{path:"publish/:id",meta:{title:"更新回收",auth:["owner"]},component:Object(n.a)("publish")},{path:"detail",meta:{title:"回收",auth:["owner"]},component:Object(n.a)("ownerDetail")}]}},"yiV+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("5tgt");t.default={path:"/admin",meta:{title:"管理页",auth:["admin"]},children:[{path:"/",meta:{title:"首页",auth:["admin"]},component:Object(n.a)("admin/index")},{path:"recyledetail/:id",meta:{title:"回收详情页",auth:["admin"]},component:Object(n.a)("admin/recyleDetail")},{path:"userdetail/:id/:userType/:userStatus",meta:{title:"用户详情页",auth:["admin"]},component:Object(n.a)("admin/userDetail")}]}}},["NHnr"]);
//# sourceMappingURL=app.4aa21ec92997f0934d7c.js.map